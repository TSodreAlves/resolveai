<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ResolveAí • Plataforma de Serviços</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b0f1a;
  --card:#12172b;
  --primary:#00e5ff;
  --secondary:#00ff9c;
  --text:#fff;
  --muted:#9aa4bf;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins;}
body{background:var(--bg);color:var(--text);}

section{padding:60px 20px;max-width:1200px;margin:auto;}
h1,h2,h3{text-align:center;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;}
.card{background:var(--card);padding:20px;border-radius:16px;border:1px solid rgba(0,229,255,.15);}
input,select,button{
  padding:14px;border-radius:10px;border:none;
  background:#0b1024;color:#fff;
}
button{cursor:pointer;font-weight:600;background:linear-gradient(135deg,var(--primary),var(--secondary));color:#000;}
.hidden{display:none}
.small{font-size:.85rem;color:var(--muted)}
.logout{background:none;color:#ff6b6b;border:none;cursor:pointer;margin-top:15px}
</style>
</head>

<body>

<section>
<h1>ResolveAí</h1>
<p class="small" style="text-align:center">
Enquanto você lê isso, alguém perto precisa do seu serviço.
</p>
</section>

<!-- CLIENTE -->
<section>
<h2>Solicitar Serviço</h2>
<div class="card">
<form id="formCliente">
<input id="cNome" placeholder="Seu nome" required>
<input id="cWhats" placeholder="WhatsApp" required>
<select id="cServico" required>
<option value="">Serviço</option>
<option>Residencial</option>
<option>Comercial</option>
<option>Limpeza</option>
<option>Beleza</option>
<option>Frete</option>
<option>Pets</option>
</select>
<input id="cLocal" placeholder="Cidade / Bairro" required>
<button>Enviar pedido</button>
</form>
</div>
</section>

<!-- PRESTADOR -->
<section>
<h2>Cadastro de Prestador</h2>
<div class="card">
<form id="formPrestador">
<input id="pNome" placeholder="Nome completo" required>
<input id="pWhats" placeholder="WhatsApp" required>
<select id="pServico" required>
<option value="">Segmento</option>
<option>Residencial</option>
<option>Comercial</option>
<option>Limpeza</option>
<option>Beleza</option>
<option>Frete</option>
<option>Pets</option>
</select>
<button>Cadastrar</button>
</form>
</div>
</section>

<!-- ADMIN -->
<section>
<h2>Admin</h2>
<div class="card">
<button onclick="loginAdmin()">Entrar</button>
<div id="adminPanel" class="hidden">

<h3>Clientes</h3>
<div id="clientesBox"></div>

<hr>

<h3>Prestadores</h3>
<div id="prestadoresBox"></div>

<button class="logout" onclick="logoutAdmin()">Logout</button>
</div>
</div>
</section>

<!-- PRESTADOR DASH -->
<section id="prestadorDash" class="hidden">
<h2>Área do Prestador</h2>
<div class="card">
<div id="prestadorInfo"></div>
<h3>Serviços</h3>
<div id="prestadorServicos"></div>
<h3>Ganhos simulados</h3>
<div id="prestadorGanhos"></div>
<button class="logout" onclick="logoutPrestador()">Sair</button>
</div>
</section>

<script>
// STORAGE
let clientes = JSON.parse(localStorage.getItem("clientes")||"[]");
let prestadores = JSON.parse(localStorage.getItem("prestadores")||"[]");
let servicos = JSON.parse(localStorage.getItem("servicos")||"[]");

// CLIENTE
formCliente.onsubmit=e=>{
e.preventDefault();
servicos.push({
id:Date.now(),
cliente:cNome.value,
whats:cWhats.value,
servico:cServico.value,
local:cLocal.value,
status:"SOLICITADO",
valor:200
});
localStorage.setItem("servicos",JSON.stringify(servicos));
alert("Pedido enviado!");
formCliente.reset();
};

// PRESTADOR
formPrestador.onsubmit=e=>{
e.preventDefault();
prestadores.push({
nome:pNome.value,
whats:pWhats.value,
servico:pServico.value,
ganhos:0
});
localStorage.setItem("prestadores",JSON.stringify(prestadores));
alert("Cadastro realizado!");
formPrestador.reset();
};

// ADMIN LOGIN
function loginAdmin(){
const u=prompt("Usuário");
const s=prompt("Senha");
if(u==="admin" && s==="123"){
adminPanel.classList.remove("hidden");
renderAdmin();
}else alert("Acesso negado");
}

function logoutAdmin(){
adminPanel.classList.add("hidden");
}

// ADMIN RENDER
function renderAdmin(){
clientesBox.innerHTML="";
prestadoresBox.innerHTML="";

servicos.forEach(s=>{
clientesBox.innerHTML+=`<p>${s.servico} - ${s.cliente} - ${s.status}</p>`;
});

prestadores.forEach(p=>{
prestadoresBox.innerHTML+=`<p>${p.servico} - ${p.nome} (${p.whats})</p>`;
});
}

// PRESTADOR LOGIN SIMPLES
function loginPrestador(){
const w=prompt("WhatsApp");
const p=prestadores.find(x=>x.whats===w);
if(!p){alert("Não encontrado");return}
prestadorDash.classList.remove("hidden");
prestadorInfo.innerHTML=`<p><strong>${p.nome}</strong><br>${p.servico}</p>`;
prestadorServicos.innerHTML="";
servicos.filter(s=>s.servico===p.servico).forEach(s=>{
prestadorServicos.innerHTML+=`
<p>${s.cliente} - ${s.status}
<button onclick="avancar(${s.id})">Avançar</button>
</p>`;
});
prestadorGanhos.innerHTML="R$ "+p.ganhos;
}

function logoutPrestador(){
prestadorDash.classList.add("hidden");
}

// FLUXO DE STATUS
function avancar(id){
const s=servicos.find(x=>x.id===id);
if(s.status==="SOLICITADO") s.status="SINAL PAGO";
else if(s.status==="SINAL PAGO") s.status="PAGAMENTO TOTAL";
else if(s.status==="PAGAMENTO TOTAL") s.status="CONCLUÍDO";
localStorage.setItem("servicos",JSON.stringify(servicos));
renderAdmin();
}
</script>

</body>
</html>
